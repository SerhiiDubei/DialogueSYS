@tool
extends EditorScript

## –°–∫—Ä–∏–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó 300 —Ç–µ—Å—Ç–æ–≤–∏—Ö –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤

const FIRST_NAMES = [
	"–û–ª–µ–∫—Å–∞–Ω–¥—Ä", "–û–ª–µ–Ω–∞", "–ê–Ω–¥—Ä—ñ–π", "–ú–∞—Ä—ñ—è", "–î–º–∏—Ç—Ä–æ", "–Ü—Ä–∏–Ω–∞",
	"–°–µ—Ä–≥—ñ–π", "–ù–∞—Ç–∞–ª—ñ—è", "–í–æ–ª–æ–¥–∏–º–∏—Ä", "–¢–µ—Ç—è–Ω–∞", "–Ü–≤–∞–Ω", "–û–∫—Å–∞–Ω–∞",
	"–ú–∏–∫–æ–ª–∞", "–°–≤—ñ—Ç–ª–∞–Ω–∞", "–í–∞—Å–∏–ª—å", "–õ—é–¥–º–∏–ª–∞", "–ü–µ—Ç—Ä–æ", "–ì–∞–ª–∏–Ω–∞",
	"–ú–∞–∫—Å–∏–º", "–Æ–ª—ñ—è", "–†–æ–º–∞–Ω", "–í—ñ–∫—Ç–æ—Ä", "–ì–∞–Ω–Ω–∞", "–ë–æ–≥–¥–∞–Ω",
	"–ö–∞—Ç–µ—Ä–∏–Ω–∞", "–ê—Ä—Ç–µ–º", "–í—ñ–∫—Ç–æ—Ä—ñ—è", "–Ø—Ä–æ—Å–ª–∞–≤", "–ê–Ω–∞—Å—Ç–∞—Å—ñ—è", "–î–µ–Ω–∏—Å"
]

const LAST_NAMES = [
	"–®–µ–≤—á–µ–Ω–∫–æ", "–ö–æ–≤–∞–ª–µ–Ω–∫–æ", "–ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ", "–¢–∫–∞—á–µ–Ω–∫–æ", "–ö—Ä–∞–≤—á–µ–Ω–∫–æ",
	"–ú–µ–ª—å–Ω–∏–∫", "–ü–µ—Ç—Ä–µ–Ω–∫–æ", "–Ü–≤–∞–Ω–æ–≤", "–†–æ–º–∞–Ω–µ–Ω–∫–æ", "–ü–æ–ª—ñ—â—É–∫",
	"–ö–æ–∑–∞–∫", "–°–∞–≤—á–µ–Ω–∫–æ", "–ü–∞–≤–ª–µ–Ω–∫–æ", "–ì–æ–Ω—á–∞—Ä", "–ó–∞—Ö–∞—Ä—á–µ–Ω–∫–æ",
	"–õ–∏—Å–µ–Ω–∫–æ", "–ú–æ—Ä–æ–∑–æ–≤", "–†—É–¥–µ–Ω–∫–æ", "–ó–∞–π—Ü–µ–≤", "–î–º–∏—Ç—Ä–µ–Ω–∫–æ"
]

const DESCRIPTIONS = [
	"–î—Ä—É–≥ –∑ —Ä–æ–±–æ—Ç–∏", "–ö–æ–ª–µ–≥–∞", "–°—Ç–∞—Ä–∏–π –∑–Ω–∞–π–æ–º–∏–π", "–°—É—Å—ñ–¥",
	"–†–æ–¥–∏—á", "–û–¥–Ω–æ–≥—Ä—É–ø–Ω–∏–∫", "–ü–∞—Ä—Ç–Ω–µ—Ä –ø–æ –±—ñ–∑–Ω–µ—Å—É", "–¢—Ä–µ–Ω–µ—Ä",
	"–õ—ñ–∫–∞—Ä", "–í—á–∏—Ç–µ–ª—å", "–ü–µ—Ä—É–∫–∞—Ä", "–ú–µ—Ö–∞–Ω—ñ–∫", "–ï–ª–µ–∫—Ç—Ä–∏–∫",
	"–°–∞–Ω—Ç–µ—Ö–Ω—ñ–∫", "–ë—É–¥—ñ–≤–µ–ª—å–Ω–∏–∫", "–ü—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç", "–î–∏–∑–∞–π–Ω–µ—Ä",
	"–ú–µ–Ω–µ–¥–∂–µ—Ä", "–í–æ–¥—ñ–π", "–ö—É—Ä'—î—Ä", "–ë—É—Ö–≥–∞–ª—Ç–µ—Ä", "–Æ—Ä–∏—Å—Ç"
]

const STATUSES = ["Available", "Busy", "NoAnswer"]
const CALL_TYPES = ["NoAnswer", "Quick", "Short", "Full"]

func _run():
	print("üöÄ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è 300 –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤...")
	
	var contacts_dir = "res://contacts/"
	
	# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ —ñ—Å–Ω—É—î –ø–∞–ø–∫–∞
	if !DirAccess.dir_exists_absolute(contacts_dir):
		DirAccess.make_dir_absolute(contacts_dir)
	
	# –ì–µ–Ω–µ—Ä—É—î–º–æ –∫–æ–Ω—Ç–∞–∫—Ç–∏
	for i in range(300):
		var contact = ContactResource.new()
		
		# ID
		contact.id = "contact_%03d" % i
		
		# –Ü–º'—è
		var first_name = FIRST_NAMES[randi() % FIRST_NAMES.size()]
		var last_name = LAST_NAMES[randi() % LAST_NAMES.size()]
		contact.display_name = "%s %s" % [first_name, last_name]
		
		# –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É
		var area = randi_range(50, 99)
		var part1 = randi_range(100, 999)
		var part2 = randi_range(1000, 9999)
		contact.phone_number = "+380 %d %d %d" % [area, part1, part2]
		
		# –û–ø–∏—Å
		contact.description = DESCRIPTIONS[randi() % DESCRIPTIONS.size()]
		
		# –°—Ç–∞—Ç—É—Å
		contact.status = STATUSES[randi() % STATUSES.size()]
		
		# –¢–∏–ø –¥–∑–≤—ñ–Ω–∫–∞
		contact.call_type = CALL_TYPES[randi() % CALL_TYPES.size()]
		
		# –û–±—Ä–∞–Ω–µ (–≤–∏–ø–∞–¥–∫–æ–≤–æ 10%)
		contact.favorite = randf() < 0.1
		
		# –ó–±–µ—Ä–µ–≥—Ç–∏
		var path = contacts_dir + "contact_%03d.tres" % i
		var err = ResourceSaver.save(contact, path)
		
		if err != OK:
			printerr("‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è: ", path)
		else:
			if (i + 1) % 50 == 0:
				print("‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ: %d/300" % (i + 1))
	
	print("üéâ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –°—Ç–≤–æ—Ä–µ–Ω–æ 300 –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤ —É –ø–∞–ø—Ü—ñ: ", contacts_dir)
	print("üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Godot –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤!")
